(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{179:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(32);a(183);t.a=function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,style:e.style},e.children):e.to?r.a.createElement(c.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),style:e.style},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,style:e.style},e.children)}},181:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return l}));var n=a(60),r=function(){return{type:"REQUIRE"}},c=function(e){return{type:"MINLENGTH",val:e}},i=function(){return{type:"EMAIL"}},l=function(e,t){var a,r=!0,c=Object(n.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;"REQUIRE"===i.type&&(r=r&&e.trim().length>0),"MINLENGTH"===i.type&&(r=r&&e.trim().length>=i.val),"MAXLENGTH"===i.type&&(r=r&&e.trim().length<=i.val),"MIN"===i.type&&(r=r&&+e>=i.val),"MAX"===i.type&&(r=r&&+e<=i.val),"EMAIL"===i.type&&(r=r&&/^\S+@\S+\.\S+$/.test(e))}}catch(l){c.e(l)}finally{c.f()}return r}},183:function(e,t,a){},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(75),r=a.n(n),c=a(85),i=a(3),l=a(0),o=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(l.useState)(),s=Object(i.a)(o,2),u=s[0],d=s[1],p=Object(l.useRef)([]),f=Object(l.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c,i,l,o,s,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",c=u.length>2&&void 0!==u[2]?u[2]:null,i=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),l=new AbortController,p.current.push(l),e.prev=6,e.next=9,fetch(t,{method:a,body:c,headers:i,signal:l.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(s=e.sent,p.current=p.current.filter((function(e){return e!==l})),o.ok){e.next=16;break}throw new Error(s.message);case 16:return n(!1),e.abrupt("return",s);case 20:throw e.prev=20,e.t0=e.catch(6),d(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(l.useEffect)((function(){return function(){p.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:u,sendRequest:f,clearError:function(){d(null)}}}},186:function(e,t,a){"use strict";var n=a(3),r=a(39),c=a(0),i=a.n(c),l=a(181),o=(a(187),function(e,t){switch(t.type){case"CHANGE":return Object(r.a)(Object(r.a)({},e),{},{value:t.val,isValid:Object(l.d)(t.val,t.validators)});case"TOUCH":return Object(r.a)(Object(r.a)({},e),{},{isTouched:!0});default:return e}});t.a=function(e){var t=Object(c.useReducer)(o,{value:e.value||"",isTouched:!1,isValid:e.valid||!1}),a=Object(n.a)(t,2),r=a[0],l=a[1],s=e.id,u=e.onInput,d=r.value,p=r.isValid;Object(c.useEffect)((function(){u(s,d,p)}),[s,d,p,u]);var f=function(t){l({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){l({type:"TOUCH"})},v="input"===e.element?i.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:f,onBlur:b,value:r.value}):i.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:f,onBlur:b,value:r.value});return i.a.createElement("div",{className:"form-control ".concat(!r.isValid&&r.isTouched&&"form-control--invalid")},i.a.createElement("label",{htmlFor:e.id},e.label),v,!r.isValid&&r.isTouched&&i.a.createElement("p",null,e.errorText))}},187:function(e,t,a){},188:function(e,t,a){"use strict";var n=a(3),r=a(6),c=a(39),i=a(0),l=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(c.a)(Object(c.a)({},e),{},{inputs:Object(c.a)(Object(c.a)({},e.inputs),{},Object(r.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}};t.a=function(e,t){var a=Object(i.useReducer)(l,{inputs:e,isValid:t}),r=Object(n.a)(a,2),c=r[0],o=r[1];return[c,Object(i.useCallback)((function(e,t,a){o({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(i.useCallback)((function(e,t){o({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},190:function(e,t,a){"use strict";var n=a(47),r=a(164),c=a(177),i=a(70),l=a(117),o=a(52),s=a(7),u={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},d=Object(l.a)("span",{baseStyle:u});s.a&&(d.displayName="VisuallyHidden");var p=Object(l.a)("input",{baseStyle:u});s.a&&(p.displayName="VisuallyHiddenInput");var f=a(0);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return m}));var v=Object(n.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),m=Object(r.a)((function(e,t){var a=Object(c.b)("Spinner",e),n=Object(i.b)(e),r=n.label,s=void 0===r?"Loading...":r,u=n.thickness,p=void 0===u?"2px":u,m=n.speed,h=void 0===m?"0.45s":m,O=n.emptyColor,j=void 0===O?"transparent":O,y=n.className,E=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(n,["label","thickness","speed","emptyColor","className"]),g=Object(o.a)("chakra-spinner",y),x=b({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:p,borderBottomColor:j,borderLeftColor:j,animation:v+" "+h+" linear infinite"},a);return f.createElement(l.a.div,b({ref:t,__css:x,className:g},E),s&&f.createElement(d,null,s))}));s.a&&(m.displayName="Spinner")},191:function(e,t,a){"use strict";var n=a(3),r=a(0),c=a.n(r),i=a(179);a(192);t.a=function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)(),u=Object(n.a)(s,2),d=u[0],p=u[1],f=Object(r.useState)(),b=Object(n.a)(f,2),v=b[0],m=b[1],h=Object(r.useRef)();Object(r.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(l)}}),[l]);return c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{id:e.id,ref:h,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(){var t,a=v;h.current.files&&1===h.current.files.length?(t=h.current.files[0],o(t),m(!0),a=!0):(m(!1),a=!1),e.onInput(e.id,t,a)}}),c.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},c.a.createElement("div",{className:"image-upload__preview"},d?c.a.createElement("img",{src:d,alt:"Preview"}):c.a.createElement("p",null,"Please pick an image")),c.a.createElement(i.a,{type:"button",onClick:function(){h.current.click()}},"PICK IMAGE")),!v&&c.a.createElement("p",null,e.errorText))}},192:function(e,t,a){},197:function(e,t,a){"use strict";var n=a(3),r=a(164),c=a(70),i=a(177),l=a(82),o=a(117),s=a(52),u=a(116),d=a(0),p=a(111);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var b=function(e){return d.createElement(p.a,f({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return g}));var m={info:{icon:function(e){return d.createElement(p.a,f({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))},colorScheme:"blue"},warning:{icon:b,colorScheme:"orange"},success:{icon:function(e){return d.createElement(p.a,f({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))},colorScheme:"green"},error:{icon:b,colorScheme:"red"}},h=Object(u.a)({name:"AlertContext",errorMessage:"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"}),O=Object(n.a)(h,2),j=O[0],y=O[1],E=Object(r.a)((function(e,t){var a,n=Object(c.b)(e),r=n.status,u=void 0===r?"info":r,p=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(n,["status"]),f=null!=(a=e.colorScheme)?a:m[u].colorScheme,b=Object(i.a)("Alert",v({},e,{colorScheme:f})),h=v({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},b.container);return d.createElement(j,{value:{status:u}},d.createElement(l.b,{value:b},d.createElement(o.a.div,v({role:"alert",ref:t},p,{className:Object(s.a)("chakra-alert",e.className),__css:h}))))})),g=function(e){var t=y().status,a=m[t].icon,n=Object(l.d)();return d.createElement(o.a.span,v({display:"inherit"},e,{className:Object(s.a)("chakra-alert__icon",e.className),__css:n.icon}),d.createElement(a,{w:"100%",h:"100%"}))}},211:function(e,t,a){"use strict";a.r(t);var n=a(75),r=a.n(n),c=a(85),i=a(3),l=a(0),o=a.n(l),s=a(179),u=a(186),d=a(188),p=a(184),f=a(181),b=a(12),v=a(28),m=a(190),h=a(197),O=a(191);t.default=function(){var e=Object(p.a)(),t=e.isLoading,a=e.error,n=e.sendRequest,l=Object(b.g)(),j=Object(d.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),y=Object(i.a)(j,2),E=y[0],g=y[1],x=Object(v.c)((function(e){return e.auth.login})),w=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("title",E.inputs.title.value),a.append("description",E.inputs.description.value),a.append("address",E.inputs.address.value),a.append("image",E.inputs.image.value),e.next=9,n("".concat("https://mern-places3.herokuapp.com/api","/places"),"POST",a,{Authorization:"Bearer ".concat(x.token)});case 9:l.push("/"),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("form",{className:"place-form",onSubmit:w},o.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(f.c)()],errorText:"Please enter a valid title.",onInput:g}),o.a.createElement(u.a,{id:"description",element:"textarea",label:"Description",validators:[Object(f.b)(10)],errorText:"Please enter a valid description (at least 10 characters).",onInput:g}),o.a.createElement(u.a,{id:"address",element:"input",type:"text",label:"Address",validators:[Object(f.c)()],errorText:"Please enter a valid address.",onInput:g}),o.a.createElement(O.a,{id:"image",onInput:g,errorText:"Please Provide an image"}),t?o.a.createElement(m.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"red",size:"xl",mx:"auto",mb:"1.1rem",display:"block"}):a&&o.a.createElement(h.a,{status:"error",my:"2rem"},o.a.createElement(h.b,null),a),o.a.createElement(s.a,{type:"submit",disabled:!E.isValid},"ADD PLACE"))}}}]);
//# sourceMappingURL=5.3865513b.chunk.js.map